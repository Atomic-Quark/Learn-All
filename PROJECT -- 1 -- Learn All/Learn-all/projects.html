<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects Hub - Learn All</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        /* Project Specific Styles */
        .filters-sidebar {
            position: sticky;
            top: 6rem;
            max-height: calc(100vh - 8rem);
            overflow-y: auto;
        }

        .project-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .project-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(139, 92, 246, 0.05), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .project-card:hover::before {
            transform: translateX(100%);
        }

        .project-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
        }

        .level-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .level-infant {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .level-beginner {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .level-intermediate {
            background: rgba(234, 179, 8, 0.2);
            color: #eab308;
        }

        .level-advanced {
            background: rgba(249, 115, 22, 0.2);
            color: #f97316;
        }

        .level-mastery {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        /* Skeleton Loading */
        .skeleton {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 8px;
        }

        @keyframes shimmer {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay"
        class="fixed inset-0 bg-primary z-[9999] flex items-center justify-center transition-opacity duration-500">
        <div class="text-center">
            <div
                class="loading-spinner w-16 h-16 border-4 border-accent border-t-transparent rounded-full animate-spin mb-4 mx-auto">
            </div>
            <h2 class="text-2xl font-bold animate-pulse">Loading Projects...</h2>
        </div>
    </div>

    <nav class="navbar glass">
        <div class="container flex items-center justify-between">
            <a href="index.html" class="logo flex items-center gap-2">
                <div class="logo-icon"><i class="fas fa-project-diagram"></i></div>
                <span class="logo-text">Projects Hub</span>
            </a>
            <div class="flex items-center gap-6">
                <div class="nav-links hidden md:flex gap-6">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="projects.html" class="nav-link active">Projects</a>
                    <a href="about.html" class="nav-link">About</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                    <a href="ai-chat.html" class="nav-link">AI Chat</a>
                </div>
                <div class="theme-toggle" id="theme-toggle"><i class="fas fa-moon"></i></div>
            </div>
        </div>
    </nav>

    <main class="container pt-24 pb-12">
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Sidebar Filters -->
            <aside class="w-full md:w-64 flex-shrink-0">
                <div class="glass p-6 rounded-xl filters-sidebar">
                    <h3 class="font-bold text-xl mb-6 flex items-center gap-2">
                        <i class="fas fa-filter text-accent"></i> Filters
                    </h3>

                    <div class="mb-6">
                        <h4 class="text-sm font-bold text-sec uppercase mb-3">Language</h4>
                        <div class="space-y-2" id="lang-filters">
                            <!-- Populated by JS -->
                            <div class="skeleton h-6 w-full mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-2"></div>
                            <div class="skeleton h-6 w-5/6 mb-2"></div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h4 class="text-sm font-bold text-sec uppercase mb-3">Difficulty</h4>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer hover:text-accent transition">
                                <input type="checkbox" class="level-filter" value="simple" checked>
                                Simple
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:text-accent transition">
                                <input type="checkbox" class="level-filter" value="medium" checked>
                                Medium
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:text-accent transition">
                                <input type="checkbox" class="level-filter" value="complex" checked>
                                Complex
                            </label>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Projects Grid -->
            <div class="flex-1">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Explore Projects <span class="text-accent" id="project-count"></span>
                    </h1>
                    <div class="flex gap-2">
                        <input type="text" id="project-search" placeholder="Search projects..."
                            class="bg-white/5 border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-accent">
                    </div>
                </div>

                <div id="projects-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Skeleton Loading State -->
                    <div class="card p-6 h-64 flex flex-col gap-4">
                        <div class="flex justify-between">
                            <div class="skeleton w-12 h-12 rounded-xl"></div>
                            <div class="skeleton w-20 h-6 rounded-full"></div>
                        </div>
                        <div class="skeleton w-3/4 h-8 rounded"></div>
                        <div class="skeleton w-full h-16 rounded"></div>
                        <div class="mt-auto flex justify-between">
                            <div class="skeleton w-20 h-4 rounded"></div>
                            <div class="skeleton w-24 h-4 rounded"></div>
                        </div>
                    </div>
                    <div class="card p-6 h-64 flex flex-col gap-4">
                        <div class="flex justify-between">
                            <div class="skeleton w-12 h-12 rounded-xl"></div>
                            <div class="skeleton w-20 h-6 rounded-full"></div>
                        </div>
                        <div class="skeleton w-3/4 h-8 rounded"></div>
                        <div class="skeleton w-full h-16 rounded"></div>
                        <div class="mt-auto flex justify-between">
                            <div class="skeleton w-20 h-4 rounded"></div>
                            <div class="skeleton w-24 h-4 rounded"></div>
                        </div>
                    </div>
                    <div class="card p-6 h-64 flex flex-col gap-4">
                        <div class="flex justify-between">
                            <div class="skeleton w-12 h-12 rounded-xl"></div>
                            <div class="skeleton w-20 h-6 rounded-full"></div>
                        </div>
                        <div class="skeleton w-3/4 h-8 rounded"></div>
                        <div class="skeleton w-full h-16 rounded"></div>
                        <div class="mt-auto flex justify-between">
                            <div class="skeleton w-20 h-4 rounded"></div>
                            <div class="skeleton w-24 h-4 rounded"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Project Modal -->
    <div id="project-modal" class="modal-overlay">
        <div class="modal-content glass rounded-2xl p-8 relative">
            <button id="close-modal" class="absolute top-4 right-4 btn btn-ghost text-xl"><i
                    class="fas fa-times"></i></button>

            <div id="modal-body">
                <!-- Dynamic Content -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Project Generator Configuration
        const languages = [
            { id: 'html', name: 'HTML', icon: 'fab fa-html5', color: '#e34c26' },
            { id: 'css', name: 'CSS', icon: 'fab fa-css3-alt', color: '#264de4' },
            { id: 'js', name: 'JavaScript', icon: 'fab fa-js', color: '#f7df1e' },
            { id: 'python', name: 'Python', icon: 'fab fa-python', color: '#3776ab' },
            { id: 'java', name: 'Java', icon: 'fab fa-java', color: '#f89820' },
            { id: 'cpp', name: 'C++', icon: 'fas fa-code', color: '#00599c' },
            { id: 'c', name: 'C', icon: 'fas fa-c', color: '#555555' },
            { id: 'csharp', name: 'C#', icon: 'fab fa-microsoft', color: '#68217a' },
            { id: 'php', name: 'PHP', icon: 'fab fa-php', color: '#777bb3' },
            { id: 'ai', name: 'AI', icon: 'fas fa-robot', color: '#00c8ff' },
            { id: 'ml', name: 'ML', icon: 'fas fa-brain', color: '#ff69b4' },
            { id: 'dl', name: 'Deep Learning', icon: 'fas fa-network-wired', color: '#8a2be2' },
            { id: 'dsa', name: 'DSA', icon: 'fas fa-project-diagram', color: '#00ff7f' },
            { id: 'dbms', name: 'DBMS', icon: 'fas fa-database', color: '#ff6347' }
        ];

        const levels = ['infant', 'beginner', 'intermediate', 'advanced', 'mastery'];

        // Project Templates
        const templates = {
            infant: ['Hello World', 'My First Page', 'Simple Text Display', 'Color Changer', 'Basic List', 'Image Gallery', 'Personal Bio', 'Favorite Foods', 'Pet Page', 'Simple Calculator UI'],
            beginner: ['ToDo List', 'Digital Clock', 'Unit Converter', 'Quote Generator', 'Simple Form', 'Landing Page', 'Quiz App', 'Weather Widget', 'Countdown Timer', 'Memory Game'],
            intermediate: ['Blog System', 'E-commerce Cart', 'Chat App UI', 'Music Player', 'Expense Tracker', 'Recipe Finder', 'Movie Search', 'Task Manager', 'Note App', 'Drawing Canvas'],
            advanced: ['Social Media Dashboard', 'Real-time Chat', 'Video Streaming', 'Payment Gateway', 'CMS Core', 'Auth System', 'Analytics Dashboard', 'File Uploader', 'Search Engine', 'Code Editor'],
            mastery: ['AI Neural Network', '3D Game Engine', 'Blockchain Ledger', 'Operating System Kernel', 'Compiler', 'Virtual Assistant', 'High-Frequency Trading', 'Cloud Platform', 'Video Conference', 'Metaverse Space']
        };

        let allProjects = [];

        // Generate Projects (Optimized)
        function generateProjects() {
            // Simulate loading delay for skeleton effect
            setTimeout(() => {
                allProjects = [];
                languages.forEach(lang => {
                    levels.forEach(level => {
                        const levelTemplates = templates[level];
                        levelTemplates.forEach((template, index) => {
                            allProjects.push({
                                id: `${lang.id}-${level}-${index}`,
                                title: `${template} in ${lang.name}`,
                                language: lang.id,
                                langName: lang.name,
                                level: level,
                                description: `Build a fully functional ${template} using ${lang.name}. This project tests your ${level} skills.`,
                                icon: lang.icon,
                                color: lang.color
                            });
                        });
                    });
                });
                renderLanguageFilters();
                filterAndRender(); // Initial render

                // Event Listeners
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                    cb.addEventListener('change', filterAndRender);
                });
                document.getElementById('project-search').addEventListener('input', filterAndRender);
            }, 800); // 800ms delay to show off the skeleton loader
        }

        function renderLanguageFilters() {
            const langFiltersDiv = document.getElementById('lang-filters');
            langFiltersDiv.innerHTML = '';
            languages.forEach(lang => {
                const label = document.createElement('label');
                label.className = 'flex items-center gap-2 cursor-pointer hover:text-accent transition';
                label.innerHTML = `
                    <input type="checkbox" class="lang-filter" value="${lang.id}" checked>
                    <i class="${lang.icon}" style="color: ${lang.color}; width: 20px;"></i> ${lang.name}
                `;
                langFiltersDiv.appendChild(label);
            });
        }

        function filterAndRender() {
            const selectedLangs = Array.from(document.querySelectorAll('.lang-filter:checked')).map(cb => cb.value);
            const selectedLevels = Array.from(document.querySelectorAll('.level-filter:checked')).map(cb => cb.value);
            const searchQuery = document.getElementById('project-search').value.toLowerCase();

            const filtered = allProjects.filter(p => {
                // Language Filter
                if (selectedLangs.length > 0 && !selectedLangs.includes(p.language)) return false;

                // Level Filter (Simple/Medium/Complex mapping)
                let levelMatch = false;
                if (selectedLevels.includes('simple') && (p.level === 'infant' || p.level === 'beginner')) levelMatch = true;
                if (selectedLevels.includes('medium') && (p.level === 'intermediate')) levelMatch = true;
                if (selectedLevels.includes('complex') && (p.level === 'advanced' || p.level === 'mastery')) levelMatch = true;

                if (selectedLevels.length > 0 && !levelMatch) return false;

                // Search Filter
                if (searchQuery && !p.title.toLowerCase().includes(searchQuery)) return false;

                return true;
            });

            document.getElementById('project-count').textContent = `(${filtered.length})`;
            const grid = document.getElementById('projects-grid');
            grid.innerHTML = '';

            const displayLimit = 50;
            filtered.slice(0, displayLimit).forEach((project, index) => {
                const card = document.createElement('div');
                card.className = 'card project-card p-6 flex flex-col gap-4 animate-fade-in';
                card.style.animationDelay = `${index * 0.05}s`; // Staggered animation
                card.onclick = () => openModal(project);
                card.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="w-12 h-12 rounded-xl flex items-center justify-center text-2xl" style="background: ${project.color}20; color: ${project.color}">
                            <i class="${project.icon}"></i>
                        </div>
                        <span class="level-badge level-${project.level}">${project.level}</span>
                    </div>
                    <div>
                        <h3 class="font-bold text-lg mb-1">${project.title}</h3>
                        <p class="text-sm text-sec line-clamp-2">${project.description}</p>
                    </div>
                    <div class="mt-auto pt-4 border-t border-white/5 flex justify-between items-center text-sm">
                        <span class="text-sec"><i class="fas fa-code"></i> Source</span>
                        <span class="text-accent font-medium">View Details <i class="fas fa-arrow-right"></i></span>
                    </div>
                `;
                grid.appendChild(card);
            });

            if (filtered.length === 0) {
                grid.innerHTML = '<div class="col-span-full text-center py-12 text-sec">No projects found matching your criteria.</div>';
            }
        }

        function openModal(project) {
            const modal = document.getElementById('project-modal');
            const body = document.getElementById('modal-body');
            const codeSnippet = generateCode(project);

            body.innerHTML = `
                <div class="flex items-center gap-4 mb-6">
                    <div class="w-16 h-16 rounded-2xl flex items-center justify-center text-3xl" style="background: ${project.color}20; color: ${project.color}">
                        <i class="${project.icon}"></i>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold">${project.title}</h2>
                        <div class="flex gap-2 mt-2">
                            <span class="level-badge level-${project.level}">${project.level}</span>
                            <span class="text-sm text-sec flex items-center gap-1"><i class="fas fa-tag"></i> ${project.langName}</span>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-6">
                    <div class="bg-white/5 p-6 rounded-xl">
                        <h3 class="font-bold text-xl mb-3">Project Description</h3>
                        <p class="text-lg leading-relaxed text-sec">${project.description}</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white/5 p-6 rounded-xl">
                            <h3 class="font-bold mb-3">Key Concepts</h3>
                            <ul class="list-disc pl-5 space-y-2 text-sec">
                                <li>Core ${project.langName} syntax</li>
                                <li>Problem solving with ${project.level} logic</li>
                                <li>Best practices and optimization</li>
                            </ul>
                        </div>
                        <div class="bg-white/5 p-6 rounded-xl">
                            <h3 class="font-bold mb-3">Resources</h3>
                            <ul class="list-disc pl-5 space-y-2 text-sec">
                                <li><a href="#" class="text-accent hover:underline">Official Documentation</a></li>
                                <li><a href="#" class="text-accent hover:underline">Tutorial Video</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Code Section (Hidden by default) -->
                    <div id="code-section" class="hidden bg-[#1e1e1e] p-6 rounded-xl border border-white/10">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-bold text-white">Starter Code</h3>
                            <button class="text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20" onclick="navigator.clipboard.writeText(this.parentElement.nextElementSibling.innerText); alert('Copied!')">Copy</button>
                        </div>
                        <pre class="text-sm text-gray-300 overflow-x-auto font-mono"><code>${codeSnippet.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</code></pre>
                    </div>

                    <div class="flex gap-4 mt-8">
                        <button onclick="startProject('${project.title}')" class="btn btn-primary flex-1 py-3 text-lg"><i class="fas fa-play"></i> Start Project</button>
                        <button onclick="document.getElementById('code-section').classList.toggle('hidden')" class="btn btn-ghost border border-white/10 flex-1 py-3 text-lg"><i class="fas fa-code"></i> View Code</button>
                    </div>
                </div>
            `;

            modal.classList.add('active');
        }
        function generateCode(project) {
            const lang = project.language;
            const title = project.title.replace(/\s+/g, '');
            const scriptTag = '<' + '/script>'; // Safe script tag construction

            if (lang === 'html') {
                return `<!DOCTYPE html>
<html>
<head>
    <title>${project.title}</title>
</head>
<body>
    <h1>${project.title}</h1>
    <div id="app"></div>
    <script>
        // Your code here
    ${scriptTag}
</body>
</html>`;
            } else if (lang === 'python') {
                return `def main():
    print("Starting ${project.title}...")
    # TODO: Implement your logic here

if __name__ == "__main__":
    main()`;
            } else if (lang === 'java') {
                return `public class ${title} {
    public static void main(String[] args) {
        System.out.println("Starting ${project.title}...");
        // TODO: Implement your logic here
    }
}`;
            } else if (lang === 'cpp' || lang === 'c') {
                return `#include <stdio.h>

int main() {
    printf("Starting ${project.title}...\\n");
    // TODO: Implement your logic here
    return 0;
}`;
            } else {
                return `// Starter code for ${project.title}
// Language: ${project.langName}

function init() {
    console.log("Project started");
}

init();`;
            }
        }

        document.getElementById('close-modal').addEventListener('click', () => {
            document.getElementById('project-modal').classList.remove('active');
        });

        // Initialize
        generateProjects();
    </script>
</body>

</html>